import style from '../css/main.css'

import { BlueprintLoader } from './Blueprint'
import BlueprintSelector from './BlueprintSelector'
import Renderer from './Renderer'

document.addEventListener('DOMContentLoaded', async () => {
    const loader = new BlueprintLoader();
    let currentBook = null;

    const blueprintSelector = new BlueprintSelector((selectedId) => {
        const id = parseInt(selectedId, 10);
        const blueprint = currentBook['blueprints'].find((elem) => elem['index'] === id)['blueprint'];
        renderer.setBlueprint(blueprint);
    }, document.querySelector('#select-blueprint'));

    const renderer = new Renderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    const loadBlueprintString = async (source) => {
        try {
            const book = await loader.decodeString(source, true);
            setBlueprintBook(book);
        }
        catch(e) {
            alert('Failed to decode string.\nThe blueprint is corrupted or using an unsupported version.');
        }
    };

    const setBlueprintBook = async (blueprintBook) => {
        currentBook = blueprintBook['blueprint_book'];

        const blueprintIdMap = {};
        for (const bp of currentBook['blueprints']) {
            const id = bp['index'];
            const name = bp['blueprint']['label'] || `untitled-${id}`;
            blueprintIdMap[id] = name;
        }
        blueprintSelector.setData(blueprintIdMap);
        blueprintSelector.select(currentBook['active_index']);
    }

    const update = () => {
        renderer.update();
    };

    const render = () => {
        renderer.render();
    };

    const animate = () => {
        requestAnimationFrame(animate);

        update();
        render();
    }

    animate();

    document.querySelector('#button-load-blueprint').addEventListener('click', () => {
        const result = prompt('Paste blueprint string here.');

        if (result !== null) {
            loadBlueprintString(result);
        }
    });

    document.addEventListener('dragenter', (e) => { e.preventDefault(); });
    document.addEventListener('dragover',  (e) => { e.preventDefault(); });
    document.addEventListener('dragleave', (e) => { e.preventDefault(); });
    document.addEventListener('drop', (e) => {
        e.preventDefault();

        const files = e.dataTransfer.files;
        if (files && files.length > 0) {
            const reader = new FileReader();
            reader.onload = () => {
                const text = reader.result;
                loadBlueprintString(text);
            };
            reader.readAsText(files[0]);
        }
    });

    window.addEventListener('resize', () => {
        renderer.setSize(window.innerWidth, window.innerHeight);
    });

    const SAMPLE = '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';
    loadBlueprintString(SAMPLE);
});
